<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="referrer" content="no-referrer" />
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" id="tab-favicon" href="favicon.png" />
  <title id="t">Home</title>
  <link rel="stylesheet" href="/assets/css/global.css?v=6" />
  <link rel="stylesheet" href="/assets/css/h.css?v=01" />
  <link rel="stylesheet" href="/assets/css/nav.css?v=01" />
</head>

<body>
  <video id="intro-video" src="assets/media/Timeline 1.mp4"
    style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; object-fit: cover;"></video>
  <div id="start-overlay"
    style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; justify-content: center; align-items: center; color: white; font-size: 24px; cursor: pointer;">
    Click anywhere to start</div>
  <div class="gradient" id="main-content" style="display: none;">
    <nav class="navbar">
      <div class="nav-content">
        <a href="/" class="nav-item">Home</a>
        <a href="/a" class="nav-item">Games</a>
        <a href="/b" class="nav-item">Apps</a>
        <a href="/d" class="nav-item">Tabs</a>
        <a href="/c" class="nav-item">Tools</a>
        <a href="/c" class="nav-item">Settings</a>
      </div>
    </nav>
    <div class="main">
      <h1 class="title">INFRARED</h1>
      <p class="subtitle">Using Interstellar to push boundary's of luxury at school</p>
    </div>
    <div class="blur-group">
      <div class="ellipse e1"></div>
      <div class="ellipse e2"></div>
      <div class="ellipse e3"></div>
      <div class="ellipse e4"></div>
      <div class="ellipse e5"></div>
    </div>
  </div>
  <script>
    const video = document.getElementById('intro-video');
    const overlay = document.getElementById('start-overlay');
    let videoPlayed = false;

    video.addEventListener('loadstart', () => console.log('Video load started'));
    video.addEventListener('loadeddata', () => console.log('Video data loaded'));
    video.addEventListener('canplay', () => console.log('Video can play'));
    video.addEventListener('error', (e) => console.error('Video error:', e));
    video.addEventListener('play', () => console.log('Video playing'));
    video.addEventListener('pause', () => console.log('Video paused'));
    video.addEventListener('ended', () => console.log('Video ended'));


    video.addEventListener('ended', function () {
      this.style.display = 'none';
      document.getElementById('main-content').style.display = 'block';
      sessionStorage.setItem('introPlayed', 'true');
      // Remove prevent skip listeners
      document.removeEventListener('keydown', preventSkip);
      document.removeEventListener('contextmenu', preventSkip);
      document.removeEventListener('dblclick', preventSkip);
    });

    // Check if intro already played in session
    if (sessionStorage.getItem('introPlayed') === 'true') {
      overlay.style.display = 'none';
      video.style.display = 'none';
      document.getElementById('main-content').style.display = 'block';
    } else {
      // Start video on click
      overlay.addEventListener('click', function () {
        if (!videoPlayed) {
          console.log('Overlay clicked');
          overlay.style.display = 'none';
          video.play().then(() => {
            console.log('Video play started');
            videoPlayed = true;
          }).catch(e => {
            console.log('Video play failed:', e);
          });
        }
      });

      // Prevent skipping
      function preventSkip(e) {
        console.log('Preventing skip event:', e.type);
        e.preventDefault();
      }

      document.addEventListener('keydown', preventSkip);
      document.addEventListener('contextmenu', preventSkip);
      document.addEventListener('dblclick', preventSkip);
    }

    // Prevent skipping
    function preventSkip(e) {
      console.log('Preventing skip event:', e.type);
      e.preventDefault();
    }

    document.addEventListener('keydown', preventSkip);
    document.addEventListener('contextmenu', preventSkip);
    document.addEventListener('dblclick', preventSkip);
  </script>
</body>

</html>